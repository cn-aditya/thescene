<!doctype html>
<html>

<head>
<meta charset="UTF-8">
<title>Brightcove - Omniture analytics plugin test page</title>
 <link href="style.css" rel="stylesheet" type="text/css"> 
  <script src="lib/VisitorAPI.js"></script>
  <script src="lib/AppMeasurement_Module_Media.js"></script>
  <script src="lib/AppMeasurement_Module_Integrate.js"></script>  
  <script src="lib/AppMeasurement.js"></script>
  <script src="lib/VideoHeartbeat.js"></script>
  <script src="lib/AdobeAnalyticsPlugin.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  
 
</head>

<body>
	<link href="//players.brightcove.net/videojs-ima3/videojs.ima3.min.css"
		rel="stylesheet">

<section id="videos">		
 
 </section>     
        
        
        <div id="showValues" style="background-color:#09F; font-weight:bold;"></div>
      

	<script>
	currentID='';
 var jsonVideo = '{ "videos" :  [{ "ID":"4475346748001","title":"Bird video","author":"Avisek","date":"2015-09-28","comments":"Nice video.All should watch"  } ] }'; 
var video=JSON.parse(jsonVideo);

//console.log(video)

for (var vids  in video.videos) {
	var html=[];
ID='_'+video.videos[vids].ID;
html.push('<div style="height:500px;" class="videos" id="video_'+video.videos[vids].ID+'">');
html.push('<h1>'+video.videos[vids].title+'</h1>');
html.push('<p>'+video.videos[vids].author+' | '+video.videos[vids].date+' </p>');
html.push('<p>-- "'+video.videos[vids].comments+'" </p>');
html.push('<video id="'+video.videos[vids].ID+'" data-account="4468173350001" data-player="12d99739-9e51-4fd5-a770-4574ef390cf7"	data-embed="default" data-video-id="'+video.videos[vids].ID+'" class="video-js" controls></video>');
html.push('<ul class="links"><li><a href="javascript:void(0);" onClick="myPlayer[&quot;vid'+video.videos[vids].ID+'&quot;].playit();">Play | </a></li><li><a href="javascript:void(0);" onClick="myPlayer[&quot;vid'+video.videos[vids].ID+'&quot;].stop();">Stop | </a></li><li><a href="javascript:void(0);" onClick="myPlayer[&quot;vid'+video.videos[vids].ID+'&quot;].pause();">Pause </a></li><div style="clear:both;"></div></ul>');



html.push('</div>');
var prevhtml=document.getElementById("videos").innerHTML;
document.getElementById("videos").innerHTML=prevhtml+html.join('');






}


var myPlayer = {};
document.addEventListener("DOMContentLoaded", function(e) {
var i=0;
	for (var vids  in video.videos) {
	videojs(video.videos[vids].ID).ready(function() {
	    // get a reference to the player
	    
	    myPlayer['vid'+video.videos[vids].ID] = this;
	    myPlayer['vid'+video.videos[vids].ID].width('500px'); 
	    myPlayer['vid'+video.videos[vids].ID].height('300px'); 
	   
	    // initialize the ima3 plugin that was registered in ima3.min.js with custom options

	   
	   


	    myPlayer['vid'+video.videos[vids].ID].omniturePlugin({
			  abc: "123"
		});


		myPlayer['vid'+video.videos[vids].ID].mute=function(){
			var isVolumeMuted = this.muted();
			if(!isVolumeMuted){
			this.muted(true);
			document.getElementById('sound').innerHTML='Unmute | ';
			}else{
			this.muted(false);
			document.getElementById('sound').innerHTML='Mute | ';
			}
		}
		
		myPlayer['vid'+video.videos[vids].ID].showcurrenttime=function(){
			var currentTime=this.currentTime();
			document.getElementById('showValues').innerHTML=currentTime;
			
			
		}

		myPlayer['vid'+video.videos[vids].ID].stop=function(){
			this.pause();
			this.currentTime(0);
			
		}

		myPlayer['vid'+video.videos[vids].ID].playit=function(){
			for (var key in myPlayer) {
    			myPlayer[key].stop();
   				 
			}

			this.play();


		}


		check();

		
	  });


		
		if(i==0){
			currentID=video.videos[vids].ID;
			myPlayer['vid'+video.videos[vids].ID].play();
			myPlayer['vid'+video.videos[vids].ID].muted(true);
		}
i++;
	}
	
});


function check(){
	$('.vjs-share-options').before('<br>');
}

	  
	  
	  
		
	  
</script>
<script
		src="//players.brightcove.net/4468173350001/12d99739-9e51-4fd5-a770-4574ef390cf7_default/index.min.js"></script>
		<script src="//players.brightcove.net/videojs-ima3/videojs.ima3.min.js"></script>
  
     
	<script type="text/javascript" src="videojs.analytic.omniture.js?r=45242424"></script>



</body>

</html>